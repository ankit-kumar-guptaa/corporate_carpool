<div class="container my-5">
    <!-- Search Carpool Section -->
    <section class="card mb-4 shadow border-0 search-carpool-card">
      <div class="container my-5">
        <!-- Search Carpool Section -->
        <section class="card mb-4 shadow border-0 search-carpool-card">
          <div class="card-body p-5">
            <h2 class="card-title mb-4 text-primary">Find a Carpool Partner</h2>
            <div class="row g-4 mb-4 align-items-end">
              <div class="col-md-2">
                <label for="role" class="form-label">Are you a:</label>
                <select id="role" class="form-select form-input" [(ngModel)]="selectedRole">
                  <option value="Either">Either</option>
                  <option value="Pooler">Pooler</option>
                  <option value="Seeker">Seeker</option>
                </select>
              </div>
              <div class="col-md-3">
                <label for="from" class="form-label">From</label>
                <AutocompleteComponent (setAddress)="handleDropAddress($event, 'From')" [autocompleteInput]="postRide.From_Address" ></AutocompleteComponent>
              
           
              
                <!-- <input type="text" id="from" name="from" class="form-control form-input" placeholder="Enter starting location" [(ngModel)]="fromLocation"> -->
              </div>
      
              <!-- Add Via Button between From and To -->
              <div class="col-md-2 text-center">
                <button type="button" class="btn btn-warning btn-sm add-via-button" (click)="addVia()">
                  <span >‚ûï Add Via</span>
                 
                </button>
              </div>
      
              <div class="col-md-4">
                <label for="to" class="form-label">To (Office Address)</label>
                <input type="text" id="to" name="to" class="form-control form-input"  value="B2, Plot 2 Tower 1, Nr Indus Valley School, Block B, Industrial Area, Sector 62, Noida, Uttar Pradesh 201309" readonly>
              </div>
            </div>
      
            <!-- Conditionally show the additional input fields for 'via' -->
            <div *ngIf="isAddViaClicked" class="via-inputs mt-3">
              <div class="row">
                <!-- Dynamically show input fields based on viaLocations array -->
                <div class="col-md-4" *ngFor="let location of viaLocations; let i = index">
                  <AutocompleteComponent></AutocompleteComponent>
                  <!-- <input type="text" class="form-control form-input" placeholder="Enter Via {{i + 1}}" [(ngModel)]="viaLocations[i]"> -->
                </div>
              </div>
            </div>
      
            <div class="text-center mt-5">
              <button type="button" class="btn btn-gradient-primary mb-3 btn-lg search-button" (click)="searchCarpool()">
                <span *ngIf="!isLoadingSearch">üîç Search</span>
                <span *ngIf="isLoadingSearch">
                  <i class="fas fa-spinner fa-spin"></i> Searching...
                </span>
              </button>
              <button type="button" class="btn btn-success mb-3 btn-lg submit-button ms-3" (click)="submitRequest()" [disabled]="isLoadingSubmit">
                <span *ngIf="!isLoadingSubmit">Submit</span>
                <span *ngIf="isLoadingSubmit">
                  <i class="fas fa-spinner fa-spin"></i> Submitting...
                </span>
              </button>
            </div>
          </div>
        </section>
      
        <!-- Display Carpool Results -->
        <!-- <div *ngIf="carpoolResults.length > 0" class="results mt-4">
          <h3 class="text-center">Carpool Results:</h3>
          <ul class="list-group">
            <li class="list-group-item" *ngFor="let result of carpoolResults">
              <strong>{{result.type}}:</strong> {{result.name}} (From: {{result.from}})
            </li>
          </ul>
        </div> -->

        <div *ngIf="RideList.length > 0" class="results mt-5 carpool-results-container">
          <h4 class="mb-4 text-secondary">Available Carpools:</h4>
          <ul class="list-group carpool-list">
            <li class="list-group-item mb-3 animate-fade-in" *ngFor="let carpool of RideList">
              <div class="row align-items-center">
                <!-- Carpool Info -->
                <div class="col-12 col-md-9 mb-2 mb-md-0">
                  <div class="carpool-info">
                    <strong>{{ carpool.userType }}</strong> - {{ carpool.userName }}
                    <span class="badge rounded-pill bg-light text-muted">{{ carpool.from_Address }}</span>
                  </div>
                </div>
        
                <!-- Connect Button -->
                <div class="col-12 col-md-3 text-center text-md-end">
                  <button  [disabled]="carpool.isSendRequest" class="btn btn-connect btn-outline-primary btn-sm w-100 w-md-auto" (click)="connectCarpool(carpool)">Connect</button>
                </div>
              </div>
            </li>
          </ul>
        </div>
        


        <div *ngIf="RideList.length <1" class="results mt-5 carpool-results-container">
          <h4 class="mb-4 text-secondary">No Record Found</h4>
          
        </div>

      </div>
      
    </section>
  </div>
  